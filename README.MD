# ğŸ­ Eventos de Pueblos - Plataforma de GestiÃ³n de Eventos Locales

Una aplicaciÃ³n web full-stack para descubrir, crear y gestionar eventos en pueblos de toda EspaÃ±a. Permite a los usuarios explorar festividades, ferias y eventos culturales, guardar favoritos y contribuir con informaciÃ³n de su comunidad local.

![Node.js](https://img.shields.io/badge/Node.js-v18+-green)
![React](https://img.shields.io/badge/React-18.0+-blue)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14+-blue)
![Express](https://img.shields.io/badge/Express-4.18+-lightgrey)

## ğŸ“‹ Tabla de Contenidos

- [CaracterÃ­sticas](#-caracterÃ­sticas)
- [TecnologÃ­as](#-tecnologÃ­as)
- [Requisitos Previos](#-requisitos-previos)
- [InstalaciÃ³n](#-instalaciÃ³n)
- [ConfiguraciÃ³n](#-configuraciÃ³n)
- [Estructura del Proyecto](#-estructura-del-proyecto)
- [API Endpoints](#-api-endpoints)
- [Uso](#-uso)
- [Capturas de Pantalla](#-capturas-de-pantalla)
- [Autor](#-autor)

## âœ¨ CaracterÃ­sticas

### Funcionalidades Principales

- ğŸ” **AutenticaciÃ³n de Usuarios**
  - Registro e inicio de sesiÃ³n con email y contraseÃ±a
  - AutenticaciÃ³n con Google OAuth
  - GestiÃ³n de sesiones con JWT y cookies

- ğŸ­ **GestiÃ³n de Eventos**
  - VisualizaciÃ³n de eventos por pueblo, provincia o comunidad autÃ³noma
  - CreaciÃ³n de eventos (usuarios autenticados)
  - EdiciÃ³n inline de eventos propios
  - EliminaciÃ³n de eventos (solo creador o admin)
  - Filtrado por fecha, ubicaciÃ³n y tipo de evento

- ğŸ˜ï¸ **ExploraciÃ³n de Pueblos**
  - Listado de pueblos con informaciÃ³n detallada
  - VisualizaciÃ³n en mapa interactivo (Leaflet)
  - InformaciÃ³n de ubicaciÃ³n (provincia, CCAA, coordenadas)

- â¤ï¸ **Sistema de Favoritos**
  - Guardar eventos favoritos
  - Acceso rÃ¡pido a eventos guardados
  - GestiÃ³n personal de favoritos

- ğŸ” **BÃºsqueda y Filtros**
  - BÃºsqueda por pueblo
  - Filtros por provincia, comunidad autÃ³noma
  - Filtros por rango de fechas
  - Filtros por tipo de evento (fiesta, cultural, otro)

## ğŸ›  TecnologÃ­as

### Backend
- **Node.js** - Entorno de ejecuciÃ³n
- **Express.js** - Framework web
- **PostgreSQL** - Base de datos relacional
- **JWT** - AutenticaciÃ³n y autorizaciÃ³n
- **Passport.js** - AutenticaciÃ³n con Google OAuth
- **bcryptjs** - EncriptaciÃ³n de contraseÃ±as
- **cookie-parser** - Manejo de cookies
- **express-session** - GestiÃ³n de sesiones
- **dotenv** - Variables de entorno

### Frontend
- **React** - Biblioteca de UI
- **React Router** - NavegaciÃ³n SPA
- **Context API** - GestiÃ³n de estado global
- **CSS3** - Estilos personalizados
- **Leaflet** - Mapas interactivos
- **react-loader-spinner** - Indicadores de carga

### Base de Datos
- **PostgreSQL** - Sistema de gestiÃ³n de base de datos
- **pg** - Cliente de PostgreSQL para Node.js

## ğŸ“¦ Requisitos Previos

- **Node.js** v18 o superior
- **npm** v8 o superior
- **PostgreSQL** v14 o superior
- Cuenta de **Google Cloud Platform** (para OAuth)

## ğŸš€ InstalaciÃ³n

### 1. Clonar el repositorio
```bash
git clone https://github.com/tu-usuario/eventos-pueblos.git
cd eventos-pueblos
```

### 2. Instalar dependencias del backend
```bash
npm install
```

### 3. Instalar dependencias del frontend
```bash
cd client
npm install
cd ..
```

### 4. Configurar la base de datos
```bash
# Crear base de datos en PostgreSQL
psql -U postgres
CREATE DATABASE eventos_pueblos;
\q

# Ejecutar script de creaciÃ³n de tablas
psql -U postgres -d eventos_pueblos -f database/schema.sql
```

### 5. Configurar variables de entorno

Crear archivo `.env` en la raÃ­z del proyecto:
```env
# Puerto del servidor
PORT=3000

# Base de datos
DB_HOST=localhost
DB_PORT=5432
DB_NAME=eventos_pueblos
DB_USER=postgres
DB_PASSWORD=tu_password

# JWT
JWT_SECRET=tu_secreto_super_seguro_aqui

# SesiÃ³n
SESSION_SECRET=tu_secreto_de_sesion_aqui

# Google OAuth
GOOGLE_CLIENT_ID=tu_google_client_id
GOOGLE_CLIENT_SECRET=tu_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/google/callback

# Frontend
FRONTEND_URL=http://localhost:5173

# Entorno
NODE_ENV=development
```

### 6. Iniciar la aplicaciÃ³n

**Modo desarrollo (Backend y Frontend por separado):**
```bash
# Terminal 1 - Backend
npm run dev

# Terminal 2 - Frontend
cd client
npm run dev
```

**Modo producciÃ³n:**
```bash
npm run build
npm start
```

## âš™ï¸ ConfiguraciÃ³n

### Base de Datos

El esquema de la base de datos incluye las siguientes tablas:

- **Users** - InformaciÃ³n de usuarios
- **Pueblos** - CatÃ¡logo de pueblos
- **Eventos** - Eventos registrados
- **FavoritosEventos** - RelaciÃ³n usuarios-eventos favoritos

## ğŸ“ Estructura del Proyecto
```
ruralvivo/
â”œâ”€â”€ frontend/                          # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer/             
â”‚   â”‚   â”‚   â”œâ”€â”€ Header/           
â”‚   â”‚   â”‚   â””â”€â”€ Main/               
    â”‚   â”‚      â”œâ”€â”€ CreateEvent/    
    â”‚   â”‚      â”œâ”€â”€ Eventos/   
        â”‚      â”‚   â”œâ”€â”€ EventosList/ 
               â”‚   â”‚   â””â”€â”€ EventosCard/             
        â”‚      â”‚   â””â”€â”€ Search/ 
    â”‚   â”‚      â”œâ”€â”€ EventosDetalle/    
               â”‚   â”‚   â”œâ”€â”€ BotonBorrarEditar/ 
               â”‚   â”‚   â”œâ”€â”€ Map/ 
               â”‚   â”‚   â””â”€â”€ BotonFavoritos/             
    â”‚   â”‚      â”œâ”€â”€ Favoritos/          
    â”‚   â”‚      â”œâ”€â”€ Profile/    
    â”‚   â”‚      â”œâ”€â”€ Login/            
    â”‚   â”‚      â”œâ”€â”€ Pueblos/    
        â”‚      â”‚   â”œâ”€â”€ EventosList/ 
               â”‚   â”‚   â””â”€â”€ EventosCard/             
        â”‚      â”‚   â””â”€â”€ Search/         
    â”‚   â”‚      â”œâ”€â”€ PueblosDetalle/
        â”‚      â”‚   â””â”€â”€ Map/ 
    â”‚   â”‚      â”œâ”€â”€ Singup/            
    â”‚   â”‚      â””â”€â”€ Home/    
        â”‚          â”œâ”€â”€ CTASection/ 
        â”‚          â”œâ”€â”€ FeatureSection/ 
        â”‚          â””â”€â”€ SectionCards/             
â”‚   â”‚   â”œâ”€â”€ context/                # Context API
â”‚   â”‚   â”‚   â””â”€â”€  UserContext/        
â”‚   â”‚   â”œâ”€â”€ services/               # Servicios API
â”‚   â”‚   â”‚   â”œâ”€â”€ EventosService/            # GestiÃ³n de eventos
â”‚   â”‚   â”‚   â”œâ”€â”€ PueblosService/            # ExploraciÃ³n de pueblos
â”‚   â”‚   â”‚   â”œâ”€â”€ FavoritosService/          # Sistema de favoritos
â”‚   â”‚   â”‚   â””â”€â”€ UserService/               # PÃ¡gina principal
â”‚   â”‚   â””â”€â”€ App.jsx                 # Componente principal
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                          # Backend NosÂ¡de.js
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ config/
    â”‚   â”‚   â”œâ”€â”€ db_sql.js              # ConfiguraciÃ³n PostgreSQL
    â”‚   â”‚   â”œâ”€â”€ jwt.js                 # ConfiguraciÃ³n JWT
    â”‚   â”‚   â””â”€â”€ googleAuth.js          # ConfiguraciÃ³n OAuth
    â”‚   â”œâ”€â”€ controller/
    â”‚   â”‚   â”œâ”€â”€ authController.js      # LÃ³gica de autenticaciÃ³n
    â”‚   â”‚   â”œâ”€â”€ eventosController.js   # LÃ³gica de eventos
    â”‚   â”‚   â”œâ”€â”€ pueblosController.js   # LÃ³gica de pueblos
    â”‚   â”‚   â”œâ”€â”€ favoritosController.js # LÃ³gica de favoritos
    â”‚   â”‚   â””â”€â”€ userController.js      # LÃ³gica de usuarios
    â”‚   â”œâ”€â”€ middleware/
    â”‚   â”‚   â”œâ”€â”€ authMiddleware.js      # VerificaciÃ³n JWT
    â”‚   â”‚   â””â”€â”€ isOwner.js             # VerificaciÃ³n de propiedad
    â”‚   â”œâ”€â”€ models/
    â”‚   â”‚   â””â”€â”€ userModels.js          # Modelos de usuario
    â”‚   â””â”€â”€ routes/
    â”‚       â”œâ”€â”€ authRoutes.js          # Rutas de autenticaciÃ³n
    â”‚       â”œâ”€â”€ eventosRoutes.js       # Rutas de eventos
    â”‚       â”œâ”€â”€ pueblosRoutes.js       # Rutas de pueblos
    â”‚       â”œâ”€â”€ favoritosRoutes.js     # Rutas de favoritos
    â”‚       â””â”€â”€ userRoutes.js          # Rutas de usuario
    â”‚  
    â”œâ”€â”€ index.js
    â”œâ”€â”€ .env
    â”œâ”€â”€ .gitignore 
    â””â”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”Œ API Endpoints

### AutenticaciÃ³n
```http
POST   /api/signup              # Registro de usuario
POST   /api/login               # Login con credenciales
POST   /api/logout              # Cerrar sesiÃ³n
GET    /api/me                  # Obtener usuario actual
GET    /api/auth/google         # Iniciar OAuth con Google
GET    /api/google/callback     # Callback de Google OAuth
```

### Eventos
```http
GET    /api/eventos                    # Obtener todos los eventos (con filtros)
GET    /api/eventos/:id                # Obtener evento por ID
GET    /api/pueblos/:id/eventos        # Obtener eventos de un pueblo
POST   /api/eventos                    # Crear evento (auth)
PUT    /api/eventos/:id                # Actualizar evento (auth + owner)
DELETE /api/eventos/:id                # Eliminar evento (auth + owner)
```

### Pueblos
```http
GET    /api/pueblos                    # Obtener todos los pueblos
GET    /api/pueblos/:id                # Obtener pueblo por ID
```

### Favoritos
```http
GET    /api/favoritos                  # Obtener favoritos del usuario (auth)
POST   /api/favoritos                  # AÃ±adir a favoritos (auth)
DELETE /api/favoritos/:evento_id       # Eliminar de favoritos (auth)
GET    /api/favoritos/:evento_id/check # Verificar si es favorito (auth)
```

### Usuario
```http
GET    /api/profile                    # Obtener perfil del usuario (auth)
PUT    /api/profile                    # Actualizar perfil (auth)
GET    /api/profile/stats              # Obtener estadÃ­sticas (auth)
```

## ğŸ’» Uso

### Registro e Inicio de SesiÃ³n

1. Crear una cuenta desde `/signup` 
2. Iniciar sesiÃ³n desde `/login`

### Explorar Eventos

1. Ir a `/eventos` para ver todos los eventos
2. Usar filtros para buscar por pueblo, provincia, fecha, etc.
3. Hacer clic en un evento para ver detalles completos

### Crear un Evento

1. Estar autenticado
2. Ir a `/creas-eventos`
3. Completar el formulario con informaciÃ³n del evento
4. Guardar

### Gestionar Eventos Propios

1. En la tarjeta o detalle del evento, verÃ¡s botones de editar/eliminar
2. **Editar**: Modificar informaciÃ³n inline o en pÃ¡gina dedicada
3. **Eliminar**: ConfirmaciÃ³n antes de eliminar permanentemente

### Guardar Favoritos

1. Hacer clic en el corazÃ³n ğŸ¤ en cualquier evento
2. El corazÃ³n se llenarÃ¡ â¤ï¸ indicando que estÃ¡ guardado
3. Acceder a favoritos desde `/favoritos`

### Gestionar Perfil

1. Ir a `/profile`
2. Ver estadÃ­sticas personales
3. Editar informaciÃ³n personal o cambiar contraseÃ±a

## ğŸ“¸ Capturas de Pantalla

### PÃ¡gina Principal
![Home](image.png)

### Listado de Pueblos
![Pueblos](image-1.png)

### Listado de Evento
![ Evento](image-2.png)


## ğŸ‘¨â€ğŸ’» Autor

Paula Rodriguez Garabaya
- GitHub: [@tu-usuario](https://github.com/PaulaGarabaya)
- LinkedIn: [Tu Perfil](https://www.linkedin.com/in/paula-rodriguez-garabaya/)


